@prefix brick:      <https://brickschema.org/schema/Brick#> .
@prefix owl:        <http://www.w3.org/2002/07/owl#> .
@prefix sh:         <http://www.w3.org/ns/shacl#> .
@prefix constraint: <https://nrel.gov/BuildingMOTIF/constraints#> .
@prefix :           <urn:single-duct-ahu-constraint/> .

:
    a owl:Ontology .

:ahu-shape
    a              sh:NodeShape ;
    sh:message     "need 1 AHU" ;
    sh:targetClass brick:AHU ;
    # I need damper with command or simply command
    sh:property    [ sh:path                brick:hasPart ;
                     sh:message             "need at least 1 Outside_Damper" ;
                     sh:qualifiedValueShape :outside-damper-shape ;
                     sh:qualifiedMinCount   1 ; ] ;
    # I need damper with command or simply command
    sh:property    [ sh:path                brick:hasPart ;
                     sh:message             "need at least 1 Cooling_Coil" ;
                     sh:qualifiedValueShape :cooling-coil-shape ;
                     sh:qualifiedMinCount   1 ; ] ;
    sh:property    [ sh:path                brick:hasPoint ;
                     sh:message             "need at least 1 Outside_Air_Temperature_Sensor" ;
                     sh:qualifiedValueShape [ sh:class brick:Outside_Air_Temperature_Sensor ; ] ;
                     sh:qualifiedMinCount   1 ; ] ;
    sh:property    [ sh:path                brick:hasPoint ;
                     sh:message             "need at least 1 Supply_Air_Temperature_Sensor" ;
                     sh:qualifiedValueShape [ sh:class brick:Supply_Air_Temperature_Sensor ; ] ;
                     sh:qualifiedMinCount   1 ; ] ;
    sh:property    [ sh:path                brick:hasPoint ;
                     sh:message             "need at least 1 Return_Air_Temperature_Sensor" ;
                     sh:qualifiedValueShape [ sh:class brick:Return_Air_Temperature_Sensor ; ] ;
                     sh:qualifiedMinCount   1 ; ]
.



:outside-damper-shape
    a              sh:NodeShape ;
    sh:targetClass brick:Outside_Damper ;
    sh:property    [ sh:path                brick:hasPoint ;
                     sh:message             "need Damper_Position_Command for Outside_Damper" ;
                     sh:qualifiedValueShape [ sh:class brick:Damper_Position_Command ; ] ;
                     sh:qualifiedMinCount   1 ; ] ;
.

:cooling-coil-shape
    a              sh:NodeShape ;
    sh:targetClass brick:Cooling_Coil ;
    sh:property    [ sh:path                brick:hasPoint ;
                     sh:message             "need Valve_Position_Command for Cooling_Coil" ;
                     sh:qualifiedValueShape [ sh:class brick:Valve_Position_Command ; ] ;
                     sh:qualifiedMinCount   1 ; ] ;
.
